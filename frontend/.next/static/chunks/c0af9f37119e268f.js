(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,74922,e=>{"use strict";var s=e.i(44215);e.s(["servicesApi",0,{getAll:e=>s.apiClient.get(e?`/api/vehicles/${e}/services`:"/api/services"),getOne:e=>s.apiClient.get(`/api/services/${e}`),create:e=>s.apiClient.post("/api/services",e),update:(e,i)=>s.apiClient.patch(`/api/services/${e}`,i),delete:e=>s.apiClient.delete(`/api/services/${e}`)}])},53817,e=>{"use strict";var s=e.i(43476),i=e.i(71645),t=e.i(18566),a=e.i(70065),r=e.i(67881),c=e.i(23750),l=e.i(10708),d=e.i(62870),n=e.i(71689),o=e.i(22016),p=e.i(74922),h=e.i(46696);function m(){let e=(0,t.useRouter)(),m=(0,t.useParams)(),[x,u]=(0,i.useState)(!1),j=async s=>{s.preventDefault(),u(!0);let i=new FormData(s.currentTarget),t={vehicleId:m.id,type:i.get("type"),description:i.get("description"),cost:parseFloat(i.get("cost")),odometer:parseInt(i.get("odometer")),date:i.get("date"),notes:i.get("notes")};try{await p.servicesApi.create(t),h.toast.success("Service record created successfully"),e.push(`/app/vehicles/${m.id}`)}catch(e){console.error("Failed to create service record:",e),h.toast.error("Failed to create service record")}finally{u(!1)}};return(0,s.jsx)("div",{className:"p-8 bg-gray-50 min-h-screen",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(r.Button,{variant:"ghost",size:"icon",asChild:!0,children:(0,s.jsx)(o.default,{href:`/app/vehicles/${m.id}`,children:(0,s.jsx)(n.ArrowLeft,{size:20})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Add Service Record"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Record a new service or maintenance"})]})]}),(0,s.jsx)(a.Card,{className:"p-6",children:(0,s.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.Label,{htmlFor:"type",children:"Type"}),(0,s.jsxs)(d.Select,{name:"type",required:!0,defaultValue:"maintenance",children:[(0,s.jsx)(d.SelectTrigger,{children:(0,s.jsx)(d.SelectValue,{placeholder:"Select type"})}),(0,s.jsxs)(d.SelectContent,{children:[(0,s.jsx)(d.SelectItem,{value:"maintenance",children:"Maintenance"}),(0,s.jsx)(d.SelectItem,{value:"repair",children:"Repair"}),(0,s.jsx)(d.SelectItem,{value:"upgrade",children:"Upgrade"}),(0,s.jsx)(d.SelectItem,{value:"inspection",children:"Inspection"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.Label,{htmlFor:"date",children:"Date"}),(0,s.jsx)(c.Input,{id:"date",name:"date",type:"date",required:!0})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.Label,{htmlFor:"description",children:"Description"}),(0,s.jsx)(c.Input,{id:"description",name:"description",required:!0,placeholder:"e.g. Oil Change"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.Label,{htmlFor:"cost",children:"Cost"}),(0,s.jsx)(c.Input,{id:"cost",name:"cost",type:"number",step:"0.01",required:!0,placeholder:"0.00"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.Label,{htmlFor:"odometer",children:"Odometer (km)"}),(0,s.jsx)(c.Input,{id:"odometer",name:"odometer",type:"number",required:!0,placeholder:"0"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.Label,{htmlFor:"notes",children:"Notes"}),(0,s.jsx)(c.Input,{id:"notes",name:"notes",placeholder:"Optional notes"})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(r.Button,{type:"submit",disabled:x,children:x?"Saving...":"Save Record"})})]})})]})})}e.s(["default",()=>m])}]);